<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>设备监控器管理 API | Swan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="/smeta/css/style.css">
  <link href="//fonts.googleapis.com/css?family=Lato:300,700" rel="stylesheet" type="text/css">
  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,700' rel='stylesheet' type='text/css'>
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body class="page">
  <header id="header">
  <div class="outer">
    <div class="inner">
      <h1 id="logo-wrap">
        <a href="/smeta/" id="logo">Swan</a>
      </h1>
      <nav id="main-nav">
        <ul id="main-nav-list">
          
            <li class="main-nav-item">
              <a href="/" class="main-nav-link">主页</a>
            </li>
          
            <li class="main-nav-item">
              <a href="/smeta/docs/" class="main-nav-link current">文档</a>
            </li>
          
            <li class="main-nav-item">
              <a href="https://github.com/nmred/sf1" class="main-nav-link">仓库</a>
            </li>
          
        </ul>
      </nav>
    </div>
  </div>
</header>

  <article class="page">
  <header id="page-banner">
  <div class="outer">
    <div class="inner">
      <h1 class="page-title">设备监控器管理 API</h1>
    </div>
  </div>
</header>
  <div class="outer">
    <div class="inner">
  <select id="page-mobile-menu">
    <option value="">Navigate...</option>
    
      <optgroup label="安装部署相关">
        
          <option value="/smeta/docs/rpm_publish.html">RPM 安装包发布</option>
        
          <option value="/smeta/docs/evn_deploy.html">环境部署</option>
        
          <option value="/smeta/docs/mysql_desc.html">数据字典</option>
        
      </optgroup>
    
      <optgroup label="Inner Api">
        
          <option value="/smeta/docs/inner_api.html">介绍</option>
        
          <option value="/smeta/docs/device.html">设备管理</option>
        
          <option value="/smeta/docs/device_monitor.html">监控器管理</option>
        
          <option value="/smeta/docs/madapter.html">监控适配器管理</option>
        
          <option value="/smeta/docs/madapter_attr.html">监控适配器属性管理</option>
        
          <option value="/smeta/docs/madapter_metric.html">监控适配器数据项管理</option>
        
          <option value="/smeta/docs/madapter_archive.html">监控适配器 archive 管理</option>
        
          <option value="/smeta/docs/api_errno.html">接口错误代码说明</option>
        
      </optgroup>
    
      <optgroup label="API 开发相关">
        
          <option value="/smeta/docs/null">介绍</option>
        
          <option value="/smeta/docs/null">路由规则及设置</option>
        
          <option value="/smeta/docs/null">函数及常用 LIB 的调用</option>
        
      </optgroup>
    
  </select>
</div>
    <div class="page-content">
      <div class="toc-wrap">
        <strong class="toc-title">Contents</strong>
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#添加设备监控器(dmonitor-add)"><span class="toc-number">1.</span> <span class="toc-text">添加设备监控器(dmonitor.add)</span></a></li><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">1.1.</span> <span class="toc-text">URL</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">1.2.</span> <span class="toc-text">请求方式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">1.3.</span> <span class="toc-text">支持格式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">1.4.</span> <span class="toc-text">请求参数</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">1.5.</span> <span class="toc-text">注意事项</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">1.6.</span> <span class="toc-text">调用样例</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">1.7.</span> <span class="toc-text">返回结果</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">1.8.</span> <span class="toc-text">返回字段说明</a></span></a></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#修改设备监控器(device-mod)"><span class="toc-number">2.</span> <span class="toc-text">修改设备监控器(device.mod)</span></a></li><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">2.1.</span> <span class="toc-text">URL</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">2.2.</span> <span class="toc-text">请求方式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">2.3.</span> <span class="toc-text">支持格式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">2.4.</span> <span class="toc-text">请求参数</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">2.5.</span> <span class="toc-text">注意事项</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">2.6.</span> <span class="toc-text">调用样例</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">2.7.</span> <span class="toc-text">返回结果</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">2.8.</span> <span class="toc-text">返回字段说明</a></span></a></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#删除设备监控器(dmonitor-del)"><span class="toc-number">3.</span> <span class="toc-text">删除设备监控器(dmonitor.del)</span></a></li><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">3.1.</span> <span class="toc-text">URL</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">3.2.</span> <span class="toc-text">请求方式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">3.3.</span> <span class="toc-text">支持格式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">3.4.</span> <span class="toc-text">请求参数</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">3.5.</span> <span class="toc-text">注意事项</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">3.6.</span> <span class="toc-text">调用样例</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">3.7.</span> <span class="toc-text">返回结果</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">3.8.</span> <span class="toc-text">返回字段说明</a></span></a></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#获取设备监控器(dmonitor-json)"><span class="toc-number">4.</span> <span class="toc-text">获取设备监控器(dmonitor.json)</span></a></li><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">4.1.</span> <span class="toc-text">URL</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">4.2.</span> <span class="toc-text">请求方式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">4.3.</span> <span class="toc-text">支持格式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">4.4.</span> <span class="toc-text">请求参数</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">4.5.</span> <span class="toc-text">注意事项</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">4.6.</span> <span class="toc-text">调用样例</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">4.7.</span> <span class="toc-text">返回结果</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">4.8.</span> <span class="toc-text">返回字段说明</a></span></a></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#获取设备监控器(dmonitor-info)"><span class="toc-number">5.</span> <span class="toc-text">获取设备监控器(dmonitor.info)</span></a></li><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">5.1.</span> <span class="toc-text">URL</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">5.2.</span> <span class="toc-text">请求方式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">5.3.</span> <span class="toc-text">支持格式</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">5.4.</span> <span class="toc-text">请求参数</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">5.5.</span> <span class="toc-text">注意事项</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">5.6.</span> <span class="toc-text">调用样例</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">5.7.</span> <span class="toc-text">返回结果</a></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#<a_href="><span class="toc-number">5.8.</span> <span class="toc-text">返回字段说明</a></span></a></li></ol>
      </div>
      <div class="page-entry">
        <h3 id="添加设备监控器(dmonitor-add)">添加设备监控器(dmonitor.add)</h3>
<h4 id="<a_href="#add_url">URL</a>"><a href="#add_url">URL</a></h4>
<p><a href="http://127.0.0.1/user/?/dmonitor.add" target="_blank">http://127.0.0.1/user/?/dmonitor.add</a></p>
<h4 id="<a_href="#add_post">请求方式</a>"><a href="#add_post">请求方式</a></h4>
<p>POST</p>
<h4 id="<a_href="#add_json">支持格式</a>"><a href="#add_json">支持格式</a></h4>
<p>JSON </p>
<h4 id="<a_href="#add_param">请求参数</a>"><a href="#add_param">请求参数</a></h4>
<table>
<thead>
<tr>
<th></th>
<th>必选</th>
<th>类型及范围</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>device_id</code></td>
<td>true</td>
<td>int</td>
<td>设备 ID</td>
</tr>
<tr>
<td><code>madapter_id</code></td>
<td>true</td>
<td>int</td>
<td>监控器 ID</td>
</tr>
<tr>
<td><code>monitor_name</code></td>
<td>true</td>
<td>string</td>
<td>设备监控器名称</td>
</tr>
<tr>
<td><code>attr_data</code></td>
<td>false</td>
<td>mixed</td>
<td>监控器属性值, 注意：此参数为 JSON 字符串</td>
</tr>
</tbody>
</table>
<h4 id="<a_href="#add_notice">注意事项</a>"><a href="#add_notice">注意事项</a></h4>
<p>无</p>
<h4 id="<a_href="#add_example">调用样例</a>"><a href="#add_example">调用样例</a></h4>
<figure class="highlight"><pre><span class="php"><span class="preprocessor">&lt;?php</span>
<span class="variable">$url</span> = <span class="string">'127.0.0.1:9080/user/?/dmonitor.add'</span>;
<span class="variable">$attr_data</span> = <span class="keyword">array</span>(
  <span class="keyword">array</span>(
    <span class="string">'attr_id'</span> =&gt; <span class="number">1</span>,
    <span class="string">'value'</span>   =&gt; <span class="string">'attr_value_1'</span>,
  ),
  <span class="keyword">array</span>(
    <span class="string">'attr_id'</span> =&gt; <span class="number">2</span>,
    <span class="string">'value'</span>   =&gt; <span class="string">'attr_value_2'</span>,
  ),
);
<span class="variable">$attr_data</span> = json_encode(<span class="variable">$attr_data</span>);
<span class="variable">$rev</span> = call(<span class="variable">$url</span>, <span class="string">'POST'</span>, <span class="keyword">array</span>(<span class="string">'madapter_id'</span> =&gt; <span class="number">1</span>, <span class="string">'device_id'</span> =&gt; <span class="number">1</span>, <span class="string">'attr_data'</span> =&gt; <span class="variable">$attr_data</span>, <span class="string">'db_name'</span> =&gt; <span class="string">'test_dm'</span>));
<span class="variable">$rev</span> = json_decode(<span class="variable">$rev</span>, <span class="keyword">true</span>);
var_dump(<span class="variable">$rev</span>);</span>
</pre></figure>

<h4 id="<a_href="#add_result">返回结果</a>"><a href="#add_result">返回结果</a></h4>
<figure class="highlight json"><pre>{
  "<span class="attribute">code</span>": <span class="value"><span class="number">10000</span></span>,
  "<span class="attribute">msg</span>": <span class="value"><span class="string">"add device monitor success."</span></span>,
  "<span class="attribute">data</span>": <span class="value"><span class="number">11</span>
</span>}
</pre></figure>

<h4 id="<a_href="#add_result_dis">返回字段说明</a>"><a href="#add_result_dis">返回字段说明</a></h4>
<table>
<thead>
<tr>
<th>返回值字段</th>
<th>字段类型</th>
<th>字段说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td>string</td>
<td>返回接口的状态码具体的状态码见 <a href="api_errno.html">接口错误码说明</a> </td>
</tr>
<tr>
<td><code>msg</code></td>
<td>string</td>
<td>接口的返回描述信息</td>
</tr>
<tr>
<td><code>data</code></td>
<td>array NULL</td>
<td>返回的数据，如果错误返回 NULL</td>
</tr>
<tr>
<td><code>monitor_id</code></td>
<td>int</td>
<td>返回该设备监控器 ID</td>
</tr>
<tr>
<td><code>device_id</code></td>
<td>int</td>
<td>返回该设备 ID</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="修改设备监控器(device-mod)">修改设备监控器(device.mod)</h3>
<h4 id="<a_href="#mod_url">URL</a>"><a href="#mod_url">URL</a></h4>
<p><a href="http://127.0.0.1/user/?/dmonitor.mod" target="_blank">http://127.0.0.1/user/?/dmonitor.mod</a></p>
<h4 id="<a_href="#mod_post">请求方式</a>"><a href="#mod_post">请求方式</a></h4>
<p>POST</p>
<h4 id="<a_href="#mod_json">支持格式</a>"><a href="#mod_json">支持格式</a></h4>
<p>JSON </p>
<h4 id="<a_href="#mod_param">请求参数</a>"><a href="#mod_param">请求参数</a></h4>
<table>
<thead>
<tr>
<th></th>
<th>必选</th>
<th>类型及范围</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>device_id</code></td>
<td>true</td>
<td>int</td>
<td>设备 ID</td>
</tr>
<tr>
<td><code>madapter_id</code></td>
<td>true</td>
<td>int</td>
<td>监控器 ID</td>
</tr>
<tr>
<td><code>monitor_id</code></td>
<td>true</td>
<td>string</td>
<td>设备监控器 ID</td>
</tr>
<tr>
<td><code>attr_data</code></td>
<td>false</td>
<td>string</td>
<td>设备监控器的属性 params 值</td>
</tr>
</tbody>
</table>
<h4 id="<a_href="#mod_notice">注意事项</a>"><a href="#mod_notice">注意事项</a></h4>
<p>无</p>
<h4 id="<a_href="#mod_example">调用样例</a>"><a href="#mod_example">调用样例</a></h4>
<figure class="highlight"><pre><span class="php"><span class="preprocessor">&lt;?php</span>
<span class="variable">$attr_data</span> = <span class="keyword">array</span>(
      <span class="keyword">array</span>(
          <span class="string">'attr_id'</span> =&gt; <span class="number">1</span>,
          <span class="string">'value'</span>   =&gt; <span class="string">'test_1'</span>,
      ),
      <span class="keyword">array</span>(
          <span class="string">'attr_id'</span> =&gt; <span class="number">2</span>,
          <span class="string">'value'</span>   =&gt; <span class="string">'test_2'</span>,
      ),
  );
  <span class="variable">$attr_data</span> = json_encode(<span class="variable">$attr_data</span>);
  <span class="variable">$url</span> = <span class="string">'127.0.0.1:9080/user/?/dmonitor.mod'</span>;
  <span class="variable">$rev</span> = call(<span class="variable">$url</span>, <span class="string">'POST'</span>, <span class="keyword">array</span>(<span class="string">'device_id'</span> =&gt; <span class="number">1</span>, <span class="string">'madapter_id'</span> =&gt; <span class="number">1</span>, <span class="string">'attr_data'</span> =&gt; <span class="variable">$attr_data</span>, <span class="string">'monitor_id'</span> =&gt; <span class="number">1</span>));
  <span class="variable">$rev</span> = json_decode(<span class="variable">$rev</span>, <span class="keyword">true</span>);
  var_dump(<span class="variable">$rev</span>);</span>
</pre></figure>

<h4 id="<a_href="#mod_result">返回结果</a>"><a href="#mod_result">返回结果</a></h4>
<figure class="highlight json"><pre>
  {
    "<span class="attribute">code</span>": <span class="value"><span class="number">10000</span></span>,
    "<span class="attribute">msg</span>": <span class="value"><span class="string">"mod device monitor success."</span></span>,
    "<span class="attribute">data</span>": <span class="value">Null 
  </span>}
</pre></figure>

<h4 id="<a_href="#mod_result_dis">返回字段说明</a>"><a href="#mod_result_dis">返回字段说明</a></h4>
<table>
<thead>
<tr>
<th>返回值字段</th>
<th>字段类型</th>
<th>字段说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td>string</td>
<td>返回接口的状态码具体的状态码见 <a href="api_errno.html">接口错误码说明</a> </td>
</tr>
<tr>
<td><code>msg</code></td>
<td>string</td>
<td>接口的返回描述信息</td>
</tr>
<tr>
<td><code>data</code></td>
<td>array NULL</td>
<td>不返回数据</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="删除设备监控器(dmonitor-del)">删除设备监控器(dmonitor.del)</h3>
<h4 id="<a_href="#del_url">URL</a>"><a href="#del_url">URL</a></h4>
<p><a href="http://127.0.0.1/user/?/dmonitor.del" target="_blank">http://127.0.0.1/user/?/dmonitor.del</a></p>
<h4 id="<a_href="#del_post">请求方式</a>"><a href="#del_post">请求方式</a></h4>
<p>POST</p>
<h4 id="<a_href="#del_json">支持格式</a>"><a href="#del_json">支持格式</a></h4>
<p>JSON </p>
<h4 id="<a_href="#del_param">请求参数</a>"><a href="#del_param">请求参数</a></h4>
<table>
<thead>
<tr>
<th></th>
<th>必选</th>
<th>类型及范围</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>monitor_id</code></td>
<td>true</td>
<td>int</td>
<td>设备监控器 ID</td>
</tr>
<tr>
<td><code>device_id</code></td>
<td>true</td>
<td>int</td>
<td>设备 ID</td>
</tr>
</tbody>
</table>
<h4 id="<a_href="#del_notice">注意事项</a>"><a href="#del_notice">注意事项</a></h4>
<p>无</p>
<h4 id="<a_href="#del_example">调用样例</a>"><a href="#del_example">调用样例</a></h4>
<figure class="highlight"><pre><span class="php"><span class="preprocessor">&lt;?php</span>
<span class="variable">$url</span> = <span class="string">'127.0.0.1:9080/user/?/dmonitor.del'</span>;
<span class="variable">$rev</span> = call(<span class="variable">$url</span>, <span class="string">'POST'</span>, <span class="keyword">array</span>(<span class="string">'monitor_id'</span> =&gt; <span class="string">'1'</span>, <span class="string">'device_id'</span> =&gt; <span class="number">1</span>));
<span class="variable">$rev</span> = json_decode(<span class="variable">$rev</span>, <span class="keyword">true</span>);
var_dump(<span class="variable">$rev</span>);</span>
</pre></figure>

<h4 id="<a_href="#del_result">返回结果</a>"><a href="#del_result">返回结果</a></h4>
<figure class="highlight json"><pre>{
  "<span class="attribute">code</span>": <span class="value"><span class="number">10000</span></span>,
  "<span class="attribute">msg</span>": <span class="value"><span class="string">"delete device monitor success."</span></span>,
  "<span class="attribute">data</span>": <span class="value">Null 
</span>}
</pre></figure>

<h4 id="<a_href="#del_result_dis">返回字段说明</a>"><a href="#del_result_dis">返回字段说明</a></h4>
<table>
<thead>
<tr>
<th>返回值字段</th>
<th>字段类型</th>
<th>字段说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td>string</td>
<td>返回接口的状态码具体的状态码见 <a href="api_errno.html">接口错误码说明</a> </td>
</tr>
<tr>
<td><code>msg</code></td>
<td>string</td>
<td>接口的返回描述信息</td>
</tr>
<tr>
<td><code>data</code></td>
<td>array NULL</td>
<td>不返回数据</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="获取设备监控器(dmonitor-json)">获取设备监控器(dmonitor.json)</h3>
<h4 id="<a_href="#json_url">URL</a>"><a href="#json_url">URL</a></h4>
<p><a href="http://127.0.0.1/user/?/dmonitor.json" target="_blank">http://127.0.0.1/user/?/dmonitor.json</a></p>
<h4 id="<a_href="#json_post">请求方式</a>"><a href="#json_post">请求方式</a></h4>
<p>POST</p>
<h4 id="<a_href="#json_json">支持格式</a>"><a href="#json_json">支持格式</a></h4>
<p>JSON </p>
<h4 id="<a_href="#json_param">请求参数</a>"><a href="#json_param">请求参数</a></h4>
<table>
<thead>
<tr>
<th></th>
<th>必选</th>
<th>类型及范围</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>device_id</code></td>
<td>true</td>
<td>int</td>
<td>设备 ID</td>
</tr>
<tr>
<td><code>page</code></td>
<td>false</td>
<td>int</td>
<td>分页的页码</td>
</tr>
<tr>
<td><code>page_count</code></td>
<td>false</td>
<td>int</td>
<td>每页的个数</td>
</tr>
</tbody>
</table>
<h4 id="<a_href="#json_notice">注意事项</a>"><a href="#json_notice">注意事项</a></h4>
<p>无</p>
<h4 id="<a_href="#json_example">调用样例</a>"><a href="#json_example">调用样例</a></h4>
<figure class="highlight"><pre><span class="php"><span class="preprocessor">&lt;?php</span>
<span class="variable">$url</span> = <span class="string">'127.0.0.1:9080/user/?/device.json'</span>;
<span class="variable">$rev</span> = call(<span class="variable">$url</span>, <span class="string">'POST'</span>, <span class="keyword">array</span>(<span class="string">'device_id'</span> =&gt; <span class="string">'3'</span>));
<span class="variable">$rev</span> = json_decode(<span class="variable">$rev</span>, <span class="keyword">true</span>);
var_dump(<span class="variable">$rev</span>);</span>
</pre></figure>

<h4 id="<a_href="#json_result">返回结果</a>"><a href="#json_result">返回结果</a></h4>
<figure class="highlight json"><pre>{
  "<span class="attribute">code</span>": <span class="value"><span class="number">10000</span></span>,
  "<span class="attribute">msg</span>": <span class="value"><span class="string">"get device monitor success."</span></span>,
  "<span class="attribute">data</span>": <span class="value">{
    "<span class="attribute">result</span>": <span class="value">[
      {
        "<span class="attribute">monitor_id</span>": <span class="value"><span class="string">"11"</span></span>,
        "<span class="attribute">monitor_name</span>": <span class="value"><span class="string">"test_name"</span></span>,
        "<span class="attribute">device_id</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">monitor_id</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">monitor_name</span>": <span class="value"><span class="string">"apache"</span></span>,
        "<span class="attribute">steps</span>": <span class="value"><span class="string">"0"</span></span>,
        "<span class="attribute">monitor_display_name</span>": <span class="value"><span class="string">"WEB SERVER 监控器"</span>
      </span>}
    ]</span>,
    "<span class="attribute">count</span>": <span class="value"><span class="string">"1"</span>
  </span>}
</span>}
</pre></figure>

<h4 id="<a_href="#json_result_dis">返回字段说明</a>"><a href="#json_result_dis">返回字段说明</a></h4>
<table>
<thead>
<tr>
<th>返回值字段</th>
<th>字段类型</th>
<th>字段说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td>string</td>
<td>返回接口的状态码具体的状态码见 <a href="api_errno.html">接口错误码说明</a> </td>
</tr>
<tr>
<td><code>msg</code></td>
<td>string</td>
<td>接口的返回描述信息</td>
</tr>
<tr>
<td><code>data</code></td>
<td>array NULL</td>
<td>不返回数据</td>
</tr>
<tr>
<td><code>device_id</code></td>
<td>int</td>
<td>设备 ID</td>
</tr>
<tr>
<td><code>monitor_id</code></td>
<td>int</td>
<td>设备监控器 ID</td>
</tr>
<tr>
<td><code>monitor_name</code></td>
<td>int</td>
<td>设备监控器名称</td>
</tr>
<tr>
<td><code>monitor_id</code></td>
<td>int</td>
<td>监控器 ID</td>
</tr>
<tr>
<td><code>steps</code></td>
<td>int</td>
<td>监控器存储间隔</td>
</tr>
<tr>
<td><code>monitor_name</code></td>
<td>string</td>
<td>监控器名称</td>
</tr>
<tr>
<td><code>monitor_display_name</code></td>
<td>string</td>
<td>监控器描述信息</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="获取设备监控器(dmonitor-info)">获取设备监控器(dmonitor.info)</h3>
<h4 id="<a_href="#info_url">URL</a>"><a href="#info_url">URL</a></h4>
<p><a href="http://127.0.0.1/user/?/dmonitor.info" target="_blank">http://127.0.0.1/user/?/dmonitor.info</a></p>
<h4 id="<a_href="#info_post">请求方式</a>"><a href="#info_post">请求方式</a></h4>
<p>POST</p>
<h4 id="<a_href="#info_json">支持格式</a>"><a href="#info_json">支持格式</a></h4>
<p>JSON </p>
<h4 id="<a_href="#info_param">请求参数</a>"><a href="#info_param">请求参数</a></h4>
<table>
<thead>
<tr>
<th></th>
<th>必选</th>
<th>类型及范围</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>device_id</code></td>
<td>true</td>
<td>int</td>
<td>设备 ID</td>
</tr>
<tr>
<td><code>madapter_id</code></td>
<td>true</td>
<td>int</td>
<td>监控器 ID</td>
</tr>
<tr>
<td><code>monitor_id</code></td>
<td>true</td>
<td>int</td>
<td>设备监控器 ID</td>
</tr>
<tr>
<td><code>page</code></td>
<td>false</td>
<td>int</td>
<td>分页的页码</td>
</tr>
<tr>
<td><code>page_count</code></td>
<td>false</td>
<td>int</td>
<td>每页的个数</td>
</tr>
</tbody>
</table>
<h4 id="<a_href="#info_notice">注意事项</a>"><a href="#info_notice">注意事项</a></h4>
<p>无</p>
<h4 id="<a_href="#info_example">调用样例</a>"><a href="#info_example">调用样例</a></h4>
<figure class="highlight"><pre><span class="php"><span class="preprocessor">&lt;?php</span>
<span class="variable">$url</span> = <span class="string">'127.0.0.1:9080/user/?/dmonitor.info'</span>;
<span class="variable">$rev</span> = call(<span class="variable">$url</span>, <span class="string">'POST'</span>, <span class="keyword">array</span>(<span class="string">'device_id'</span> =&gt; <span class="string">'1'</span>, <span class="string">'madapter_id'</span> =&gt; <span class="string">'1'</span>));
<span class="variable">$rev</span> = json_decode(<span class="variable">$rev</span>, <span class="keyword">true</span>);
var_dump(<span class="variable">$rev</span>);</span>
</pre></figure>

<h4 id="<a_href="#info_result">返回结果</a>"><a href="#info_result">返回结果</a></h4>
<figure class="highlight json"><pre>{
  "<span class="attribute">code</span>": <span class="value"><span class="number">10000</span></span>,
  "<span class="attribute">msg</span>": <span class="value"><span class="string">"get device monitor success."</span></span>,
  "<span class="attribute">data</span>": <span class="value">{
    "<span class="attribute">result</span>": <span class="value">[
      {
        "<span class="attribute">monitor_id</span>": <span class="value"><span class="string">"11"</span></span>,
        "<span class="attribute">monitor_name</span>": <span class="value"><span class="string">"test_name"</span></span>,
        "<span class="attribute">device_id</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">monitor_id</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">attr_id</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">value</span>": <span class="value"><span class="string">"http://"</span></span>,
        "<span class="attribute">attr_name</span>": <span class="value"><span class="string">"url"</span></span>,
        "<span class="attribute">form_type</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">form_data</span>": <span class="value"><span class="string">""</span></span>,
        "<span class="attribute">attr_default</span>": <span class="value"><span class="string">""</span></span>,
        "<span class="attribute">attr_display_name</span>": <span class="value"><span class="string">""</span>
      </span>},
      {
        "<span class="attribute">monitor_id</span>": <span class="value"><span class="string">"11"</span></span>,
        "<span class="attribute">monitor_name</span>": <span class="value"><span class="string">"test_name"</span></span>,
        "<span class="attribute">device_id</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">monitor_id</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">attr_id</span>": <span class="value"><span class="string">"2"</span></span>,
        "<span class="attribute">value</span>": <span class="value"><span class="string">"value_test"</span></span>,
        "<span class="attribute">attr_name</span>": <span class="value"><span class="string">"test"</span></span>,
        "<span class="attribute">form_type</span>": <span class="value"><span class="string">"1"</span></span>,
        "<span class="attribute">form_data</span>": <span class="value"><span class="string">""</span></span>,
        "<span class="attribute">attr_default</span>": <span class="value"><span class="string">""</span></span>,
        "<span class="attribute">attr_display_name</span>": <span class="value"><span class="string">""</span>
      </span>}
    ]</span>,
    "<span class="attribute">count</span>": <span class="value"><span class="string">"2"</span>
  </span>}
</span>}
</pre></figure>

<h4 id="<a_href="#info_result_dis">返回字段说明</a>"><a href="#info_result_dis">返回字段说明</a></h4>
<table>
<thead>
<tr>
<th>返回值字段</th>
<th>字段类型</th>
<th>字段说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td>string</td>
<td>返回接口的状态码具体的状态码见 <a href="api_errno.html">接口错误码说明</a> </td>
</tr>
<tr>
<td><code>msg</code></td>
<td>string</td>
<td>接口的返回描述信息</td>
</tr>
<tr>
<td><code>data</code></td>
<td>array NULL</td>
<td>不返回数据</td>
</tr>
<tr>
<td><code>device_id</code></td>
<td>int</td>
<td>设备 ID</td>
</tr>
<tr>
<td><code>monitor_id</code></td>
<td>int</td>
<td>设备监控器 ID</td>
</tr>
<tr>
<td><code>monitor_name</code></td>
<td>string</td>
<td>设备监控器名称</td>
</tr>
<tr>
<td><code>monitor_id</code></td>
<td>int</td>
<td>监控器 ID</td>
</tr>
<tr>
<td><code>attr_id</code></td>
<td>int</td>
<td>监控器属性 ID</td>
</tr>
<tr>
<td><code>value</code></td>
<td>string</td>
<td>属性值</td>
</tr>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>属性名</td>
</tr>
<tr>
<td><code>form_type</code></td>
<td>string</td>
<td>属性表单类型</td>
</tr>
<tr>
<td><code>form_data</code></td>
<td>string</td>
<td>属性表单选择类型预提供数据</td>
</tr>
<tr>
<td><code>attr_default</code></td>
<td>string</td>
<td>属性默认值</td>
</tr>
<tr>
<td><code>attr_display_name</code></td>
<td>string</td>
<td>属性描述信息</td>
</tr>
</tbody>
</table>

      </div>
      <footer id="page-footer">
        <time id="page-footer-updated" datetime="2014-04-22T23:35:52.000Z">Last updated: 4月 23, 2014</time>
        <a href="/smeta/docs/device.html" id="page-footer-prev" class="page-footer-link">Prev</a>
        <a href="/smeta/docs/madapter.html" id="page-footer-next" class="page-footer-link">Next</a>
      </footer>
    </div>
    <aside id="sidebar">
  
    <strong class="sidebar-title">安装部署相关</strong>
    
      <a href="/smeta/docs/rpm_publish.html" class="sidebar-link">RPM 安装包发布</a>
    
      <a href="/smeta/docs/evn_deploy.html" class="sidebar-link">环境部署</a>
    
      <a href="/smeta/docs/mysql_desc.html" class="sidebar-link">数据字典</a>
    
  
    <strong class="sidebar-title">Inner Api</strong>
    
      <a href="/smeta/docs/inner_api.html" class="sidebar-link">介绍</a>
    
      <a href="/smeta/docs/device.html" class="sidebar-link">设备管理</a>
    
      <a href="/smeta/docs/device_monitor.html" class="sidebar-link current">监控器管理</a>
    
      <a href="/smeta/docs/madapter.html" class="sidebar-link">监控适配器管理</a>
    
      <a href="/smeta/docs/madapter_attr.html" class="sidebar-link">监控适配器属性管理</a>
    
      <a href="/smeta/docs/madapter_metric.html" class="sidebar-link">监控适配器数据项管理</a>
    
      <a href="/smeta/docs/madapter_archive.html" class="sidebar-link">监控适配器 archive 管理</a>
    
      <a href="/smeta/docs/api_errno.html" class="sidebar-link">接口错误代码说明</a>
    
  
    <strong class="sidebar-title">API 开发相关</strong>
    
      <a href="/smeta/docs/null" class="sidebar-link">介绍</a>
    
      <a href="/smeta/docs/null" class="sidebar-link">路由规则及设置</a>
    
      <a href="/smeta/docs/null" class="sidebar-link">函数及常用 LIB 的调用</a>
    
  
</aside>
  </div>
</article>
  <footer id="footer">
  <div class="outer">
    <div class="inner">
      &copy; 2014 <a href="http://www.swanlinux.net">Swan team</a><br>
    </div>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/smeta/js/script.js"></script>

</body>
</html>